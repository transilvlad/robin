# This file configures mail storage.

# Mail location is provided by userdb SQL query (returning 'mail' field).
# In Dovecot 2.4, mail_driver must be set explicitly.
mail_driver = maildir

# The first valid UID for mail users. This is used to prevent
# logging in as system users.
first_valid_uid = 90
last_valid_uid = 0

# Attachment de-duplication (renamed in Dovecot 2.4).
mail_ext_attachment_path = /var/mail/attachments
mail_ext_attachment_min_size = 64k

# Limit concurrent connections per user/IP.
mail_max_userip_connections = 40

# Performance tuning (optional; keep defaults if unsure).
maildir_very_dirty_syncs = no

# Base mail plugins temporarily disabled for initial Dovecot 2.4 migration.
# TODO: Migrate plugin configuration to Dovecot 2.4 syntax.
# mail_plugins = $mail_plugins quota lazy_expunge zlib
